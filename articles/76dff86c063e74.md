---
title: "ã€Flutterã€‘No MediaQuery widget ancestor found.ã‚’åã‹ã‚ŒãŸæ™‚ã®å¯¾å‡¦"
emoji: "ğŸˆ"
type: "tech" # tech: æŠ€è¡“è¨˜äº‹ / idea: ã‚¢ã‚¤ãƒ‡ã‚¢
topics: ["Flutter","Dart"]
published: true
---
# ã‚¨ãƒ©ãƒ¼æ–‡
```
======== Exception caught by widgets library =======================================================
The following assertion was thrown building Scaffold(dirty, state: ScaffoldState#f44d1(tickers: tracking 2 tickers)):
No MediaQuery widget ancestor found.

Scaffold widgets require a MediaQuery widget ancestor.
The specific widget that could not find a MediaQuery ancestor was: Scaffold
  dirty
  state: ScaffoldState#f44d1(tickers: tracking 2 tickers)
The ownership chain for the affected widget is: "Scaffold â† APIPage â† [root]"

No MediaQuery ancestor could be found starting from the context that was passed to MediaQuery.of(). This can happen because you have not added a WidgetsApp, CupertinoApp, or MaterialApp widget (those widgets introduce a MediaQuery), or it can happen if the context you use comes from a widget above those widgets.
```
>This is a common mistake that happens when using Inherited Widgets like MediaQuery. Now you may not be using it explicitly but from your description it seems that Flutters' showModalBottomSheet method maybe using it.
>The error is telling you that no MediaQuery ancestor(i.e. WidgetsApp, CupertinoApp or MaterialApp) could be found above context. It means above this context:

MediaQueryã¨ã‹ã¿ãŸã„ãª**Inherited Widgetã‚’å«ã‚€Widgetãƒ»ãƒ¡ã‚½ãƒƒãƒ‰**ã«ã¯`WidgetsApp, CupertinoApp, or MaterialApp widget`**ã®ã©ã‚Œã‹ãŒè¦ªWidgetã¨ã—ã¦æŒã£ã¦ã„ãªã•ã„ã‚ˆ**ã€ã£ã¦ã“ã¨ã‚‰ã—ã„ã€‚
å…·ä½“çš„ãªæœ‰åŠ¹ãªã‚¢ã‚¯ã‚·ãƒ§ãƒ³ã¨ã—ã¦ã¯contextã‚’å«ã‚€build Widgetã®**returnã«`MaterialApp`ã‚’å…¥ã‚Œã‚‹**
ä»Šå›ã¯ã€ŒScaffold widgets require a MediaQuery widget ancestor.ã€ã€Œ**Scaffoldã¯MediaQuery widgetã‚’è¦ªã«æŒã¦**ã€‚ã€ã¦ã“ã¨

## é–“é•ã£ã¦ãŸéƒ¨åˆ†
- Scaffoldã®è¦ªã¨ã—ã¦MaterialAppãŒç„¡ã„ã€‚
```dart:main.dart
Widget build(BuildContext context) {
    child: Scaffold(
      appBar: AppBar(
        title: const Text('Flutter'),
      ),
      
```

## ç›´ã—ãŸéƒ¨åˆ†
- Scaffoldã®è¦ªã«`return MaterialApp`ã¨ã—ã¦ã€`home:`ã«`Scaffold`ã‚’æŒãŸã›ã‚‹
```dart:main.dart
Widget build(BuildContext context) {
    return MaterialApp(
      home: Scaffold(
        appBar: AppBar(
          title: const Text('Flutter'),
        ),
```

# çµè«–

#### ã€ŒNo MediaQuery widget ancestor found.ã€ï¼ã€Œè¦ªã«MaterialAppä»˜ã‘ã‚ã€

# æ‰€æ„Ÿ
Inherited Widgetãªã©ã«ã¤ã„ã¦ç†è§£ç”˜ã„ã®ã‹ãªã¨æ€ã„è¦èª¿æŸ»

[å¤§å¤‰å‚è€ƒã«ãªã£ãŸè¨˜äº‹](https://stackoverflow.com/questions/68635405/no-mediaquery-widget-ancestor-found)


